(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[201],{55441:(e,l,t)=>{Promise.resolve().then(t.bind(t,44723))},58021:(e,l,t)=>{"use strict";t.d(l,{A:()=>n}),console.log({BASE:"https://api.khalidkhnz.in/api/v1"});let a=t(82651).A.create({baseURL:"https://api.khalidkhnz.in/api/v1"});a.interceptors.request.use(e=>{if(localStorage){let l=localStorage.getItem("news-app");if(l){let{token:t}=JSON.parse(l);t&&(e.headers.Authorization="Bearer ".concat(t))}}return e});let n=a},18960:(e,l,t)=>{"use strict";t.d(l,{K:()=>n});var a=t(58021);let n={async createPost(e){try{let l=await a.A.post("/posts",e);return null==l?void 0:l.data}catch(e){return console.log(e),null}},async getAllPosts(){try{let e=await a.A.get("/posts-v2?limit=10000000000&page=1");return null==e?void 0:e.data}catch(e){return console.log(e),null}}}},44723:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>g});var a=t(95155),n=t(11037),i=t(33900),r=t(12115),s=t(21567);let o=r.forwardRef((e,l)=>{let{className:t,...n}=e;return(0,a.jsx)("textarea",{className:(0,s.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:l,...n})});o.displayName="Textarea";var d=t(77711),u=t(76046),c=t(2782),p=t(74874),h=t(18960);let v=(0,d.default)(()=>Promise.all([t.e(195),t.e(268),t.e(259)]).then(t.bind(t,60259)),{loadableGenerated:{webpack:()=>[60259]}});function g(){let e=(0,u.useSearchParams)(),l=null==e?void 0:e.get("postId"),t=null==e?void 0:e.get("type"),[s,d]=(0,r.useState)(),g=(0,p.Wx)({initialValues:{title:"",description:"",thumbnail:"",delta:""},async onSubmit(e){console.log({values:e}),console.log({response:await h.K.createPost(e)})}});async function x(e){let l=await Promise.all(e.ops.map(async(e,l)=>{var t,a;return(null===(t=e.insert)||void 0===t?void 0:t.image)?(console.log("INDEX: ",l),console.log(null===(a=e.insert)||void 0===a?void 0:a.image),{...e,insert:{...e.insert,image:"https://letsenhance.io/static/8f5e523ee6b2479e26ecc91b9c25261e/1015f/MainAfter.jpg"}}):e})),t=new c.Ru(l);return d(t),t}async function f(e){let l=await x(e);g.setFieldValue("delta",JSON.stringify(l)),g.handleSubmit()}return(0,a.jsxs)("div",{className:"min-h-screen",children:[(0,a.jsx)("div",{className:"p-2",children:(0,a.jsx)("h1",{className:"text-2xl font-semibold",children:"CREATE"===t?"Create Post":"Update Post - ".concat(l)})}),(0,a.jsxs)("div",{className:"p-2 w-full gap-2 flex-col flex flex-wrap",children:[(0,a.jsx)(i.p,{value:g.values.title,onChange:g.handleChange,onBlur:g.handleBlur,name:"title",placeholder:"Post Heading"}),(0,a.jsx)(i.p,{value:g.values.thumbnail,onChange:g.handleChange,onBlur:g.handleBlur,name:"thumbnail",placeholder:"Thumbnail URL"}),(0,a.jsx)(o,{value:g.values.description,onChange:g.handleChange,onBlur:g.handleBlur,name:"description",placeholder:"Description"})]}),(0,a.jsx)(v,{initialDelta:s,onPreview:e=>d(e),onSave:f}),s&&(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("h1",{className:"p-4 text-xl w-full text-center",children:"PREVIEW"}),(0,a.jsx)(n.default,{delta:s})]})]})}},11037:(e,l,t)=>{"use strict";t.d(l,{default:()=>r});var a=t(95155),n=t(14459),i=t(12115);let r=e=>{var l,t;let{delta:r}=e;return(0,a.jsx)("div",{style:{color:"black",padding:"10px",display:"flex",flexWrap:"wrap",position:"relative"},children:r&&(null===(t=(0,n.parseQuillDelta)(r))||void 0===t?void 0:null===(l=t.paragraphs)||void 0===l?void 0:l.map((e,l)=>{let t=e.textRuns,n=e.embed,r=(null==e?void 0:e.attributes)||{},s={1:"33px",2:"25px",3:"15px"};return(0,a.jsxs)("span",{style:{width:"100%",fontSize:s[null==r?void 0:r.header]||s[3],textAlign:(null==r?void 0:r.align)||"left",...r.blockquote?{padding:"5px"}:{}},children:[t&&function(e){return(0,a.jsxs)(i.Fragment,{children:[null==e?void 0:e.map((e,l)=>{let t=null==e?void 0:e.text,n=(null==e?void 0:e.attributes)||{};return(0,a.jsx)(i.Fragment,{children:(0,a.jsx)("span",{style:{textWrap:"wrap",fontWeight:(null==n?void 0:n.bold)?"bold":"normal",fontStyle:(null==n?void 0:n.italic)?"italic":"normal",textDecoration:(null==n?void 0:n.underline)?"underline":(null==n?void 0:n.strike)?"line-through":"none",color:(null==n?void 0:n.color)||"inherit",backgroundColor:(null==n?void 0:n.background)||"transparent",verticalAlign:(null==n?void 0:n.script)||"baseline"},children:t})},"text-run-".concat(l,"-").concat(t))}),(0,a.jsx)("br",{})]})}(t),(null==n?void 0:n.image)&&(0,a.jsx)("img",{src:n.image,alt:"image-".concat(l)})]},"paragraph-".concat(l))}))})}},33900:(e,l,t)=>{"use strict";t.d(l,{p:()=>r});var a=t(95155),n=t(12115),i=t(21567);let r=n.forwardRef((e,l)=>{let{className:t,type:n,...r}=e;return(0,a.jsx)("input",{type:n,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:l,...r})});r.displayName="Input"},21567:(e,l,t)=>{"use strict";t.d(l,{cn:()=>i});var a=t(43463),n=t(69795);function i(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];return(0,n.QP)((0,a.$)(l))}}},e=>{var l=l=>e(e.s=l);e.O(0,[181,651,669,202,441,517,358],()=>l(55441)),_N_E=e.O()}]);